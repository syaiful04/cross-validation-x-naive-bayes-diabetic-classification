# cross-validation-x-naive-bayes-diabetic-classification
The project aims to complete my thesis in 2020. This thesis is a continuation of my lecturer's project researching MAGE (Mean Amplitude Glycemic Excursion) as an indicator of someone having diabetes in their body.

# ABOUT

Acute Glucose Fluctuation and Chronic Hyperglycemia are the two main factors that triggering complications in Diabetes Mellitus. In this regard, quantitative consideration of glycemic variability in monitoring blood sugar in diabetes is essential for diagnosis and subsequent clinical treatment. The mean amplitude of glycemic excursions (MAGE) is an important indicator in the assessment of glycemic variability (GV), which is used as a reference to control glucose in blood continuously. Continuous blood glucose intake has technical difficulties, especially in the provision of equipment. Therefore, to calculate the MAGE value based on observations of discrete blood glucose that have been interpolated so that the fluctuation curve resembles the curve in the CGM model of 42 volunteer patients in the previous study, the RMSE value generated from the interpolation is 57.66 using the Spline Linear interpolation method and an accuracy of 92.85% with deep learning K-NN algorithms. This study focuses more on strengthening the training and testing data processing system and reducing the independent variables that occur during the classification process to obtain higher accuracy results which will later assist in diabetes decision makers. To support this goal, this study uses Cross Validation as a training and testing data processing with a number of K-Folds of 10 and Naïve Bayes as a classification method. The resulting accuracy is 93% with an RMSE value of 0.267. It concludes that patients in the pre-diabetes and diabetes classes tended to have more variable blood glucose values than patients from the normal class.

# METHOD

In this Naïve Bayes implementation using the python language. In the application of the python language, this research uses Google Colab. The coding of the Naïve Bayes implementation to process the dataset. Includes libraries used in python to call required functions such as plot functions, accuracy measurements, confusion matrix, Naïve Bayes, Cross-Validation, and file uploads. The uploaded data will appear as follows.
![image](https://user-images.githubusercontent.com/100661486/156498089-00e49b7a-9b12-4e47-9c4e-4ee56491ac15.png)

Displays the plot according to the CLASS division of the uploaded data. From the plot shown, the division of groups from each other is very different based on the STDEVPA (Standard Deviation) column. From the data distribution in the figure below, it can be analyzed based on the calculation of the standard deviation (STDEVPA), CLASS 3 is in an area with a standard deviation value of 0.65 – 0.73 with a mean value of 0.68, CLASS 2 is in an area with a standard deviation value. range 0.39 – 0.60 with a median value of 0.50, CLASS 1 is in the area with a standard deviation value range of 0.32 – 0.42 and is even close to 0.1 with a mean value of 0.35. According to a related study on the effect of mealtime on glucose excursion [16], that in healthy or Normal volunteers grouped in CLASS 3 with excursions close to and/or greater than 1.0 standard deviation, in prediabetic and diabetic volunteers grouped on CLASS 2 and CLASS 3 with excursions far from 1.0 standard deviation.
![image](https://user-images.githubusercontent.com/100661486/156498356-735d97dc-0cfb-41b4-99b4-9853ac9df873.png)

# RESULT

Model performance testing is done with the confusion matrix, RMSE, MSE, and MAE functions. The function conf_mat = confusion_matrix(y, y_pred) is a pseudocode to display the results of the performance evaluation using the Confusion Matrix method. After going through the Naïve Bayes and Cross-Validation processes with a total of 10 folds, the resulting accuracy is 93%.The result of the print(metrics.accuracy_score(y,y_pred)*100) function will be used for the Root Square factors function (RMSE, MSE, and MAE). MSE (Mean Squared Error) represents the difference between the original value and the predicted value extracted by squaring the difference in the mean over the data set. This is a measure of how close the fitted line is to the actual data point. RMSE (Root Mean Squared Error) is the error rate according to the square root of the MSE. Mean Absolute Error (MAE) measures the absolute mean distance between real-data and predicted data. In this study, the RMSE value was 0.267, MSE and MAE were 0.071. The RMSE, MSE, and MAE values each produce a value < 0.5. The smaller the RMSE value indicates that the method is the most appropriate in predicting event point.
![image](https://user-images.githubusercontent.com/100661486/156498610-de8c7a6f-6276-4b72-9242-7aaec1979d3f.png)![image](https://user-images.githubusercontent.com/100661486/156498643-e2ccf294-06d3-44d6-9e92-2e57678234ee.png)
Visualization of the confusion matrix plot (Figure 8) the performance of the data mining has 17 Diabetes data which is predicted to be correct, 19 True Positive data which is predicted to be true Prediabetes, 3 True Negative data which is predicted to be Normal, 2 False Negative data which is predicted to be Normal but the model predicting abnormal or being in the Diabetes / Prediabetes class, and 1 data that cannot be predicted.

# CONCLUSION

The test for calculating the MAGE value on the data shows a difference where the largest difference is experienced in the diabetes class, followed by the pre-diabetic class and the normal class. This could be due to the fact that patients with prediabetes and diabetes had more fluctuating blood glucose values as described in the BoxPlot analysis.
